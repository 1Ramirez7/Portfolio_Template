---
title: "Python QMD Example"
format: html
---

## Python Example with Common Libraries

```{python}
# Import common libraries
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# Create a sample DataFrame
data = pd.DataFrame({
    "x": np.linspace(0, 10, 100),
    "y": np.sin(np.linspace(0, 10, 100))
})

# Display the first few rows
data.head()


```

```{python}
# Plot the data
plt.plot(data["x"], data["y"], label="sin(x)")
plt.xlabel("x")
plt.ylabel("y")
plt.title("Plot of sin(x)")
plt.legend()
plt.show()
```

```{python}
# Import plotly
import plotly.express as px

# Create an interactive plot
fig = px.line(data, x="x", y="y", title="Interactive Plot of sin(x)")

fig.show()


```


```{python}

# Import scipy for signal processing
from scipy.signal import find_peaks

# Find peaks in the sine wave
peaks, _ = find_peaks(data["y"])

# Plot with peaks highlighted
plt.plot(data["x"], data["y"], label="sin(x)")
plt.plot(data["x"].iloc[peaks], data["y"].iloc[peaks], "rx", label="Peaks")
plt.xlabel("x")
plt.ylabel("y")
plt.title("sin(x) with Peaks Highlighted")
plt.legend()



```



step 1. Check what environment is active
library(reticulate)
py_config()

step 1.5: load env for project if needed
library(reticulate)
use_virtualenv("env", required = TRUE)

step1.7: create virtual env if not needed (basically needed in any new device)
library(reticulate) # I wonder if the line below can stand lsone
virtualenv_create("env") # env is the name which can be anything, but will use env for instructions

Step 2. Install python libraries 
library(reticulate)
py_install(c("pandas", "numpy", "matplotlib"))

step 2.1: run python code and render python files

Step 3 : creates/updates the requirements.txt file
shell("pip freeze > requirements.txt")

library(reticulate)
py_install(c("seaborn"))


library(reticulate)
py_install(c("spicy"))